<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Leonardo Borges</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="Leadership. Technology. AI.">
    <meta name="generator" content="Hugo 0.139.4">
    
    
    
      <meta name="robots" content="index, follow">
    
    

    
<link rel="stylesheet" href="/ananke/css/main.min.1a1e856c575c37c0a14fa63fe637fefcac5fc8a9e372c7d8de0184b5ab217407.css" >



    

    
      
<link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />


    

    
    
      <link href="/tags/rails/index.xml" rel="alternate" type="application/rss+xml" title="Leonardo Borges" />
      <link href="/tags/rails/index.xml" rel="feed" type="application/rss+xml" title="Leonardo Borges" />
      
    

    
      <link rel="canonical" href="http://leonardoborges.com/tags/rails/">
    

    <meta property="og:url" content="http://leonardoborges.com/tags/rails/">
  <meta property="og:site_name" content="Leonardo Borges">
  <meta property="og:title" content="Rails">
  <meta property="og:description" content="Leadership. Technology. AI.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="website">

  <meta itemprop="name" content="Rails">
  <meta itemprop="description" content="Leadership. Technology. AI.">
  <meta itemprop="datePublished" content="2011-04-09T00:00:00+00:00">
  <meta itemprop="dateModified" content="2011-04-09T00:00:00+00:00">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Rails">
  <meta name="twitter:description" content="Leadership. Technology. AI.">

      
    
	
  </head><body class="ma0 avenir bg-near-white production">

    

  
  
  <header class="cover bg-top" style="background-image: url('http://leonardoborges.com/images/wanaka_tree.jpg');">
    <div class="bg-black-60">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        Leonardo Borges
      
    </a>
    <div class="flex-l items-center">
      

      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/about/" title="About page">
              About
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/books/" title="Books page">
              Books
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="https://leonardoborges.substack.com/p/leadership-coaching" title="Coaching page">
              Coaching
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="https://leonardoborges.substack.com/" title="Newsletter page">
              Newsletter
            </a>
          </li>
          
        </ul>
      
      <div class="ananke-socials"><a href="https://github.com/theleoborges/" target="_blank" rel="noopener"
        class="ananke-social-link link-transition github link dib z-999 pt3 pt0-l mr1"
        title="follow on GitHub - Opens in a new window"
        aria-label="follow on GitHub - Opens in a new window">
      <span class="icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc. --><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
            
          </span></a><a href="https://twitter.com/theleoborges" target="_blank" rel="noopener"
        class="ananke-social-link link-transition twitter link dib z-999 pt3 pt0-l mr1"
        title="follow on Twitter - Opens in a new window"
        aria-label="follow on Twitter - Opens in a new window">
      <span class="icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc. --><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
            
          </span></a><a href="http://linkedin.com/in/theleoborges" target="_blank" rel="noopener"
        class="ananke-social-link link-transition linkedin link dib z-999 pt3 pt0-l mr1"
        title="follow on LinkedIn - Opens in a new window"
        aria-label="follow on LinkedIn - Opens in a new window">
      <span class="icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc. --><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
            
          </span></a></div>

    </div>
  </div>
</nav>

      <div class="tc-l pv4 pv6-l ph3 ph4-ns">
        <h1 class="f2 f-subheadline-l fw2 white-90 mb0 lh-title">
          Rails
        </h1>
        
      </div>
    </div>
    
  </header>


    <main class="pb7" role="main">
      
  <article class="cf pa3 pa4-m pa4-l">
    <div class="measure-wide-l center f4 lh-copy nested-copy-line-height nested-links mid-gray">
      <p>Below you will find pages that utilize the taxonomy term “Rails”</p>
    </div>
  </article>
  <div class="mw8 center">
    <section class="flex-ns flex-wrap justify-around mt5">
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Writings</span>
    <h1 class="f3 near-black">
      <a href="/writings/2011/04/09/look-ma-no-hands-tweeting-with-your-voice/" class="link black dim">
        look ma no hands tweeting with your voice
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>
This is just another one of those boring weekends where I felt the need to hack on something.<br><br>If you follow Google Chrome's <a title="Chrome's blog" href="http://chrome.blogspot.com/" target="_blank">blog</a> you're probably aware of this little nifty feature they started to implement in their latest builds: <a href="http://chrome.blogspot.com/2011/03/talking-to-your-computer-with-html5.html" target="_blank">HTML5 voice recognition</a>.<br><br>And that's when it struck me: "Hey, what if I use that and tweet with my voice instead of typing?"<br><br>The result of this hacking session is <a href="http://loudparrot.heroku.com/">LoudParrot</a>, a sample Rails app that shows how to do just that. You <strong>will</strong> need a fairly recent build of Google Chrome -beta - which you can download <a href="http://www.google.com/intl/en/landing/chrome/beta/" target="_blank">here</a>.<br><br>You can get the source on <a href="https://github.com/leonardoborges/loud-parrot">GitHub</a>.
</p>
    </div>
    <a href="/writings/2011/04/09/look-ma-no-hands-tweeting-with-your-voice/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Writings</span>
    <h1 class="f3 near-black">
      <a href="/writings/2011/02/16/ide-review-rubymine/" class="link black dim">
        ide review rubymine
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>
Since I started working with Ruby about 4 years ago, I've used quite a few text editors and ide's: <a href="http://www.aptana.com/products/radrails">RadRails</a>, <a href="http://projects.gnome.org/gedit/" target="_blank">gedit</a> + <a href="https://github.com/lexrupy/gmate" target="_blank">plugins</a>, <a href="http://macromates.com/" target="_blank">TextMate</a> and <a href="http://www.vim.org/" target="_blank">Vim</a>.<br><br>TextMate is the one I've used the most and it's been ok for a long time. Until you realize you need half a dozen bundles to make it really useful for ruby development. Obviously the same goes for Vim and gedit.<br><br>Oh, and forget about refactoring. In these tools refactoring equals regex global replace. So if you need it, well, forget it.<br><br>That's when I decided to give <strong><a href="http://www.jetbrains.com/ruby/" target="_blank">RubyMine</a></strong> a fair go. I've been using it heavily for a while now and I must say I love it!<br><br>What pissed me off about RadRails when I first tried it was the speed. It was too slow, something people take for granted when running java based IDE's.<br><br>However this is not true for RubyMine. You DO take a hit on startup, nothing major, but once it's done, it's a breeze.<br><br>I've compiled a list of my favorite productivity shortcuts and features. Hope it'll be useful to someone else.<br><br><strong>Productivity Shortcuts</strong><br><br><hr /><strong>Navigation</strong><br><br><em>Ctrl + Tab</em> - File Switcher<br><br><em>Cmd + Shift + T</em> - Switching between implementation and test works perfectly. Even in a pure ruby project<br><br><em>Cmd + Shift + F12</em> - Expand/restore editor<br><br><em>Alt + Shift + N</em> - Go to model/view/controller<br><br><em>Alt + F1</em> - Show current file in other views such as the project tree (scroll to file)<br><br><em>Cmd + Shift + N</em> - Open file<br><br><em>Cmd + Alt + Shift + N</em> - Open symbol - across files<br><br><em>Alt + F7</em> - Find usages - when on a method, variable, etc…<br><br><strong>Running/Debugging</strong><br><br><em>Ctrl + Shift + F10</em> - Run current [test] file. When inside a test method, run that single method.<br><br><em>Ctrl + Shift + F9</em> - Same as above, but in debug mode.<br><br><em>Shift + F10/Shift + F9</em> - Run/Debug last action executed<br><br><em>Alt + R</em> - Run rake task<br><br><strong>Refactoring</strong><br><br><em>Cmd + Alt + N</em> - Inline variable/ method<br><br><em>Cmd + Alt + M</em> - Extract method<br><br><em>Shift + F6</em> - Rename<br><br><em>F5</em> - Copy current file as...<br><br><strong>Editing</strong><br><br><em> Cmd + Y</em> - Delete line<br><br><em>Cmd + D</em> - Duplicate Line/Selection<br><br><em>Alt + Mouse</em> - Column selection<br><br><em>Cmd + Shift + (Up Arrow|Down Arrow)</em> - Moves de line or selected block of code up or down<br><br><strong>Features</strong><br><br><hr /><em>Code completion</em> - It's fairly accurate and pretty fast. They've done some good yak shaving around this area.<br><br><em>Debugger</em> - The debugging interface is an absolute beauty. Saved me a lot of time where I'd have used puts statements or googled to re-learn how to use ruby-debug instead. Definitely worth checking out.<br><br><strong>The bad stuff</strong><br><br><hr /><em>It is not free</em> - unless you are a committer to an open-source project. But it's not expensive either.<br><br><em>It is a bit slower</em> - but not that much. The performance hit is insignificant compared to the added value.<br><br><em>Regex file open, TextMate style</em> - What can I say? I do miss this.<br><br><em>Wrap highlighted text</em> - In TextMate, if you highlight a word and press ", [, {, ( or # it surrounds the word with the respective combination of quotes, brackets, etc... Another missed feature<br><br><strong>Wrapping up</strong><br>It's probably soon to say it but so far RubyMine has been my missing Ruby IDE. And I'm very happy with it. :)
</p>
    </div>
    <a href="/writings/2011/02/16/ide-review-rubymine/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Writings</span>
    <h1 class="f3 near-black">
      <a href="/writings/2011/02/12/clouds-against-the-floods-presentation-available/" class="link black dim">
        clouds against the floods presentation available
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>
Last Tuesday I gave a short presentation on the whole <a title="Clouds against the Floods" href="http://www.leonardoborges.com/writings/2011/01/16/clouds-against-the-floods/" target="_blank">Clouds Against the Floods</a> thing at the <a title="Ruby on Rails Oceania Meetup" href="http://rubyonrails.com.au/sydney-meetups" target="_blank">Ruby on Rails Oceania User Group</a> here in Sydney.<br><br>Those guys are awesome and they recorded the talk - thanks guys!<br><br>If you'd like to download the slides, they're available on <a title="Slideshare profile" href="http://www.slideshare.net/borgesleonardo/clouds-against-the-floods" target="_blank">Slideshare</a>.<br><br>Enjoy! ;)<br><br><object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="425" height="344" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0"><param name="allowFullScreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="src" value="http://www.youtube.com/v/DYDD9XiW3Gg?hl=en&amp;fs=1" /><param name="allowfullscreen" value="true" /><embed type="application/x-shockwave-flash" width="425" height="344" src="http://www.youtube.com/v/DYDD9XiW3Gg?hl=en&amp;fs=1" allowscriptaccess="always" allowfullscreen="true"></embed></object>
</p>
    </div>
    <a href="/writings/2011/02/12/clouds-against-the-floods-presentation-available/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Writings</span>
    <h1 class="f3 near-black">
      <a href="/writings/2011/02/02/update-to-appconstants-it-can-now-be-used-as-a-gem/" class="link black dim">
        update to appconstants it can now be used as a gem
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>
This is just a quick post to let you know that <a title="app_constants github repo" href="https://github.com/leonardoborges/app_constants" target="_blank">AppConstants</a> can now be used as gem!<br><br>Just add it to your Gemfile and 'bundle install' it:<br><br>
<pre tabindex="0"><code>#in your Gemfile
gem &#34;app_constants&#34;

#in the console
$ bundle install
$ rails generate app_constants
#then follow the instructions on-screen instructions
</code></pre><p><br><br>It can also be used without Rails. Check out full instructions on the <a title="app_constants github repo" href="https://github.com/leonardoborges/app_constants" target="_blank">GitHub repository</a>.<br><br>Feedback welcome :)</p>
</p>
    </div>
    <a href="/writings/2011/02/02/update-to-appconstants-it-can-now-be-used-as-a-gem/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Writings</span>
    <h1 class="f3 near-black">
      <a href="/writings/2011/01/16/clouds-against-the-floods/" class="link black dim">
        clouds against the floods
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>
I think by now everyone's heard of the hard time the guys up in Queensland, Australia are having because of the <a title="Queensland Floods" href="http://www.google.com/search?q=qld+floods" target="_blank">recent floods</a>. People have lost their lives and many others have lost their homes and businesses, product of years of hard work.<br><br>As a result of this massive disaster the Queensland Government decided to run a telethon to encourage donations to help the flood victims. The Telethon aired last Sunday, 09/01/11, on Channel 9 and lasted for 2 hours.<br><br>The problem was the existing donations system that the Government had been using so far: it was just not thought out to handle the load we were expecting to have on Sunday.<br><br>That's when my employer, <a title="ThoughtWorks" href="http://www.thoughtworks.com/" target="_blank">ThoughtWorks</a>, kindly offered a hand to <a href="http://www.qld.gov.au/smartservice/" target="_blank">Smart Services Queensland</a> in the attempt to make sure they could receive all donations that were likely to come through the web.<br><br>After that, on the Thursday afternoon before the event, <a title="Phillip Calçado" href="http://fragmental.tw/" target="_blank">Phillip Calçado</a>, Ben Barnard and I set off on a mission against the clock: we had a little over 48 hours to develop, test and deploy an application that was expected to handle thousands of users. Not only that but an application that, should it fail, would prevent millions of dollars from reaching the people in need in Queensland. This was a great responsibility but we knew we could do it.<br><br>Given the time constraints it was a bit obvious that we would use <a title="Ruby on Rails" href="http://rubyonrails.org/" target="_blank">Ruby on Rails</a> for this app. Both because of the productivity it's known for and because we had the knowledge right there. With that out of the way, we had to decide how and where we would deploy this thing. We thought a little about it and came down to to 2 options: <a title="Amazon EC2" href="http://aws.amazon.com/ec2/">Amazon EC2</a> or <a title="Heroku" href="http://heroku.com/" target="_blank">Heroku</a> (which is powered by Amazon EC2 under the hood). I pushed hard for Heroku and that's what we ended up going with.<br><br>Now it was time to get down and dirty and start coding the app. In principle it should be fairly simple. It needed a form where a potential donor would fill out his/her information, giving the option to receive the tax receipt by email or regular mail - more on that later. Upon clicking submit users would be taken to the secure payment gateway website where they could input their credit card number and finish the payment, after which they would be taken back to our app with a success - or an error - message and a transaction number.<br><br>Now this work flow has a couple of implications: First, all emails would have to be sent in the background so as to not interfere with the website performance. We were expecting to be sending thousands of them - workers anyone?<br><br>Second, the payment gateway integration would have to be developed and tested from scratch. Up until now the Queensland Government integrated with it in a different manner that could not be reused in this case.<br><br>And most important of all, although simple in concept, we had no idea of the load we should be preparing for. There was just no data from previous telethons. Thus we decided to prepare for the maximum we possibly could.<br><br>As we developed the application we deployed continuously to Heroku in order to test the payment gateway integration, benchmark the app using <a title="Apache AB" href="http://httpd.apache.org/docs/2.0/programs/ab.html" target="_blank">Apache AB</a>, setup cache headers - Heroku uses <a title="Varnish" href="http://www.varnish-cache.org/" target="_blank">Varnish</a> - and find bottlenecks.<br><br>Email was one of these bottlenecks and that's why we decided to handle that in the background using <a title="Delayed::Job" href="https://github.com/collectiveidea/delayed_job" target="_blank">Delayed::Jobs</a>.<br><br>Since the first deployment, we also tweaked a couple of things at Heroku, such as migrating from their free PostgreSQL offering to a dedicated instance that we believed would both take the load and have plenty of room for all the data - as I write this post, we are already well over the 5MB limit they offer for free.<br><br>Long story short, by Saturday evening  the website was up and running on 5 app instances, a 6th instance running background jobs - sending emails - and a dedicated PostgreSQL database server.<br><br>As Heroku is outside the Government network, their SMTP server was a no go on the short term so we also integrated the app with <a title="SendGrid" href="http://sendgrid.com/" target="_blank">SendGrid</a>, an email delivery service that fitted perfectly our needs - although the site got so much traction that we went over our monthly quota with them. But the nice guys from SendGrid increased our limit after I opened a ticket explaining the situation!<br><br>As for performance we used <a href="http://newrelic.com/">NewRelic</a> to monitor the application, which Heroku also makes a breeze to integrate with.<br><br>We all went home to rest and get ready for Sunday, the day of the Telethon, when we would be monitoring the app throughout the day. We were all excited and when the show went live, we started seeing all those beautiful access charts moving like crazy, spiking over 720 requests per minute and being solid like a rock with flat and fast response times throughout the night.<br><br>In about two hours we had over AUD$2,000,000.00 (two million) donated through our website.<br><br>Since then the number of transactions dropped but has stayed constant and as of today we've received AUD$25,438,518.32 (over 25 millions of dollars) that will be donated to the flood victims in Queensland.<br><br>Oh, and the site is still up and going strong so move your fingers and go help: <a title="Queensland Floods Telethon" href="http://telethon.smartservice.qld.gov.au/" target="_blank">telethon.smartservice.qld.gov.au</a> - there will be heaps of people grateful for your donation.
</p>
    </div>
    <a href="/writings/2011/01/16/clouds-against-the-floods/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Writings</span>
    <h1 class="f3 near-black">
      <a href="/writings/2010/04/24/small-update-to-appconstants/" class="link black dim">
        small update to appconstants
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>
It's been now over a week since we moved to Sydney and everything is just great. We're still house hunting but I got a feeling we'll have a home soon. :)<br><br>In the meantime, this morning I got a feature request on github to allow <a href="http://github.com/leonardoborges/app_constants" target="_blank">AppConstants</a> to interpret YAML files with embedded code like this:<br><br><script src="https://gist.github.com/790877.js?file=gistfile1.yml"></script><br><br>I haven't needed it myself but thought it would be a nice addition so my <a href="http://github.com/leonardoborges/app_constants/commit/7c116c8cf9307942f7d8682779510e623156fd08">latest commit</a> does exactly that. Let me know if you find any issues.
</p>
    </div>
    <a href="/writings/2010/04/24/small-update-to-appconstants/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Writings</span>
    <h1 class="f3 near-black">
      <a href="/writings/2010/02/28/upgrading-appconstants-to-rails-3/" class="link black dim">
        upgrading appconstants to rails 3
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>
Back in January I <a href="http://www.leonardoborges.com/writings/2010/01/23/my-take-on-rails-environment-specific-constants/" target="_blank">announced</a> a small but useful plugin called <a href="http://github.com/leonardoborges/app_constants">AppConstants</a>, that basically provides a central place where you can store environment specific constants. And since I started using Rails 3 in the past week, I thought I'd make it Rails 3 compatible.<br><br>The code is really simple and - as I expected - the upgrade process was quite straight forward.<br><br>I'm not gonna write a guide here on how to upgrade your plugins to Rails 3 - there is plenty about that around the web - but instead, just show the steps I went through to upgrade mine. Similar plugins might have a similar upgrade path.<br><br><strong>- Generators</strong><br><br>My plugin makes use of a simple generator that copies its default constants file and initializer to <em>Rails.root/config</em> and <em>Rails.root/config/initializers</em>, respectively. In Rails 2.x it was located under <em>Rails.root/vendor/plugins/app_constants/generators/app_constants</em> and it was defined like so:<br><br><script src="https://gist.github.com/790878.js?file=gistfile1.rb"></script><br><br>In Rails 3, the generators had to be moved to <em>Rails.root/vendor/plugins/app_constants/lib/generators</em>. Notice the root directory app_constants under generators has been removed as well. And the code was changed to this:<br><br><script src="https://gist.github.com/790879.js?file=gistfile1.rb"></script><br><br>We had three simple changes here:<br><br>- <em>The generator now extends from <em><strong>Rails::Generators::Base</strong></em></em>: This class uses the Thor infrastructure to handle generators. - more info <a href="http://blog.plataformatec.com.br/2009/07/creating-your-own-generators-with-thor/" target="_blank">here</a>.<br><br>- <em>I had to implement the <strong>source_root</strong> class method</em>, which basically tells your generator where to find your template files.<br><br>- <em>The <em><strong>manifest</strong></em> method is now called <em><strong>copy_config_files</strong></em> - or <strong><em>anything</em></strong></em> you want. <br><br>The way this works is that, once you invoke the generator, Thor will sequentially call all instance methods in your generator class - or the only instance method in the example above. If your generator does a lot, it will allow for a better organization of your tasks.<br><br>And that's it! I did change a couple of other things but that had to be changed anyway and are not related to the migration.<br><br>For Rails 2.3.x users, you'll find a 2.3.x branch on github that should work for you.<br><br>Cheers
</p>
    </div>
    <a href="/writings/2010/02/28/upgrading-appconstants-to-rails-3/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Writings</span>
    <h1 class="f3 near-black">
      <a href="/writings/2010/01/23/my-take-on-rails-environment-specific-constants/" class="link black dim">
        my take on rails environment specific constants
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>
It’s funny how every Rails application I - and possibly you - work on ends up needing some sort of per-environment global constants.<br><br>Examples may include the application url - It might be used in account activation emails and thus should be different between the development and production environments.<br><br>Or perhaps your application depends on external services that, depending on the environment, are available in different URIs.<br><br>There are a couple solutions out there but my needs were simple and straightforward, thus I developed a small rails plugin that is the simplest thing that could possibly work: <strong><a href="http://github.com/leonardoborges/app_constants">AppConstants</a></strong>.<br><br>It's been useful for my current project and I hope it can be useful to someone else too ;)
</p>
    </div>
    <a href="/writings/2010/01/23/my-take-on-rails-environment-specific-constants/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Writings</span>
    <h1 class="f3 near-black">
      <a href="/writings/2010/01/13/monit-thinking-sphinx-and-rvm/" class="link black dim">
        monit thinking sphinx and rvm
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>
In one of my Rails projects I'm using <a href="http://www.sphinxsearch.com/" target="_blank">Sphinx</a> to provide full-text search capabilities. To integrate both worlds I chose <a href="http://freelancing-god.github.com/ts/en/" target="_blank">Thinking Sphinx</a>, which is just great and so far has met all of my expectations.<br><br>Also, <a href="http://www.leonardoborges.com/writings/2010/01/02/managing-multiple-ruby-versions/" target="_blank">as I previously mentioned</a>, I'm using <a href="http://rvm.beginrescueend.com/">RVM</a> to manage my ruby installations on both my development and production machines and this setup is what motivated this post.<br><br>I use <a href="http://mmonit.com/monit/" target="_blank">Monit</a> to monitor the services running on my production server - nginx, mysql, php - and as of the first deploy of this application, it only made sense to also monitor Sphinx.<br><br>In order to create an initialization script, I would need at least a way to start and stop sphinx from the command line, which, using Thinking Sphinx, can be done using these rake tasks:<br><pre lang="bash"><br>$ rake thinking_sphinx:stop<br>$ rake thinking_sphinx:start<br></pre><br>It's worth mentioning now that I don't run sphinx as root. I run it with the same user my rails application uses. For the purpose of this post, let's call it <em>deploy</em>.<br><br>When I tried using my script I got errors such as these:<br><br><pre lang="bash"><br>Missing the Rails 2.3.5 gem. Please `gem install -v=2.3.5 rails`, update your RAILS_GEM_VERSION setting in config/environment.rb for the Rails version you do have installed, or comment out RAILS_GEM_VERSION to use the latest version installed.<br></pre><br><br>After some digging around I found that the GEM_HOME environment variable for my deploy user wasn't being set correctly - something to do with rvm, but not quite sure - and to fix this, well, I just had to set it, leaving the final working version of my script somewhat like this - simplified :
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e">#! /bin/sh
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">### BEGIN INIT INFO</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">### END INIT INFO</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>set_path<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;cd /your/rails/app/root; export GEM_HOME=/path/to/your/gems; RAILS_ENV=production;&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#34;</span>$1<span style="color:#e6db74">&#34;</span> in
</span></span><span style="display:flex;"><span>  start<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>        echo -n <span style="color:#e6db74">&#34;Starting sphinx: &#34;</span>
</span></span><span style="display:flex;"><span>                su - deploy -c <span style="color:#e6db74">&#34;</span>$set_path<span style="color:#e6db74"> rake ts:start&#34;</span> &gt;&gt; /var/log/sphinx.log 2&gt;&amp;<span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        echo <span style="color:#e6db74">&#34;done.&#34;</span>
</span></span><span style="display:flex;"><span>        ;;
</span></span><span style="display:flex;"><span>  stop<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>        echo -n <span style="color:#e6db74">&#34;Stopping sphinx: &#34;</span>
</span></span><span style="display:flex;"><span>                su - deploy -c <span style="color:#e6db74">&#34;</span>$set_path<span style="color:#e6db74"> rake ts:stop&#34;</span> &gt;&gt; /var/log/sphinx.log 2&gt;&amp;<span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        echo <span style="color:#e6db74">&#34;done.&#34;</span>
</span></span><span style="display:flex;"><span>        ;;
</span></span><span style="display:flex;"><span>      *<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>            N<span style="color:#f92672">=</span>/etc/init.d/sphinx
</span></span><span style="display:flex;"><span>            echo <span style="color:#e6db74">&#34;Usage: </span>$N<span style="color:#e6db74"> {start|stop}&#34;</span> &gt;&amp;<span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>            exit <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>            ;;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">esac</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>exit <span style="color:#ae81ff">0</span>
</span></span></code></pre></div><p>There are 2 things happening here. First, regardless of the user I&rsquo;m running this init script as, I drop privileges in order to execute the rake task with my deploy user. Second, I set the GEM_HOME environment variable to stop getting the &lsquo;gem not found&rsquo; errors.<br><br>After that, monit was able not only to monitor my sphinx instance, but also (re)start/stop it with the correct user.<br><br>I&rsquo;m no Linux wizard so if you wanna suggest improvements to this script, feel free to do so!</p>
    </div>
    <a href="/writings/2010/01/13/monit-thinking-sphinx-and-rvm/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Writings</span>
    <h1 class="f3 near-black">
      <a href="/writings/2009/09/03/rails-summit-2009-im-speaking/" class="link black dim">
        rails summit 2009 im speaking
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>
<a href="http://www.railssummit.com.br?utm_campaign=Railssummit&amp;utm_source=banner_parceiros&amp;utm_medium=banner&amp;utm_content=en_souPalestrante_210x60"><img src="http://railssummit.com.br/images/banners/en_souPalestrante_210x60.jpg" alt="Rails Summit 2009" /></a><br><br>I'll be speaking at this year's <a href="http://railssummit.com.br/en/pages/home" target="_blank">Rails Summit Latin America</a> in Sao Paulo, Brazil. It will be a good opportunity to meet some <a href="http://railssummit.com.br/en/speakers">amazing people</a> and visit friends back home! :)<br><br>Overall I'll be spending 12 days in Brazil, with 2 of them dedicated to the conference. The other 10 I'll be in Rio de Janeiro visiting my family and friends. I strongly advise you to spend some time in Rio too, if at all possible. It's an amazing city and you can contact me if you have any questions.<br><br>Back to the conference, my session is called <strong>JRuby in the enterprise world: Using Rails with legacy code</strong>, and will be given in the form of a tutorial. I will walk you through some problems we had while making this kind of integration at my company, focusing mostly on dependency management.<br><br>At the end I hope you'll have a good understanding of what JRuby is capable of in a legacy environment.<br><br>If you're planning to attend and would like to hear anything specific about JRuby, please let me know, I can try and squeeze in.<br><br>C u there!
</p>
    </div>
    <a href="/writings/2009/09/03/rails-summit-2009-im-speaking/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Writings</span>
    <h1 class="f3 near-black">
      <a href="/writings/2009/08/25/rails-rumble-09/" class="link black dim">
        rails rumble 09
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>
<strong>Update:</strong> The service is now down while we move it from the VPS provided by Rails Rumble to our own. I'll let you know once it's up.<br><br>Last weekend <a href="http://www.ivercore.com/" target="_blank">Philip</a>, <a href="http://www.pedropimentel.com/" target="_blank">Pedro</a> and myself got together for this year's <a href="http://railsrumble.com/" target="_blank">Rails Rumble</a>.<br><br>We haven't had really decided what to do until a few days before the competition, but I had this really simple idea and decided to go with it. Seems people liked it, given a few positive comments we received.<br><br>So, after 48 hours - which were not used to work full-time in the application - <a href="http://birdwatcher.r09.railsrumble.com/">The Bird Watcher</a> was born.<br><br><a href="http://birdwatcher.r09.railsrumble.com/">The Bird Watcher</a> is a simple way to show the world what's going on on Twitter for any topic you define.  Go ahead and take a look at the website to see a live example.<br><br>We're planning to keep the service up after the competition is over and we have some nice features lined up to go live on the next release.<br><br>In short, it was an interesting weekend and showed me that this team works really well together.<br><br>Cheers
</p>
    </div>
    <a href="/writings/2009/08/25/rails-rumble-09/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Writings</span>
    <h1 class="f3 near-black">
      <a href="/writings/2009/07/01/jruby-on-rails-and-legacy-java-apps-managing-dependencies/" class="link black dim">
        jruby on rails and legacy java apps managing dependencies
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>
The motivation for this post came from a couple of messages I've seen on the jruby's google group and because I think it's pretty cool to share how we tackled this problem.<br><br><strong>- A little bit of context</strong><br><br>We, as a vast amount of people out there, have legacy Java code. A lot. In our case this legacy is pretty much crucial to our business. We can't just trash it and start from scratch. Bad idea.<br><br>On the other hand we do have new features to be built on top of it. But we wanted an easier way to develop this new stuff and decided for a JRuby on Rails solution, using it as a front-end to our existing services.<br><br><strong>- What we decided to do</strong><br><br>Our final rails project would make use of a specially created jar file containing our Java application. This Jar would also contain a public interface of the services we'd have to interact with from rails.<br><br>As any Java application, ours depend on a number of external jar files that correspond to the various framewoks we usually have in place. e.g.: Hibernate, Spring, apache-commons ...<br><br>Which means we need to make our app's jar and all it's dependencies available in the JRuby classpath in order to use it.<br><br>Given we're using warbler to package our application as a war file, we just need to place all jars needed into our rails app's lib folder. Warbler then takes care of copying any jar files located in there into the war.<br><br><strong>- The problem</strong><br><br>So we needed a smart way to include all these dependencies into the project, and copy/paste isn't an option.<br><br>In the Java world we use <a href="http://maven.apache.org/">Maven</a> to manage our projects dependencies - and you should too. Because of that our approach involved turning our rails application into a Maven aware project.<br><br>Basically we needed a <a href="http://maven.apache.org/pom.html">pom file</a> that would declaratively list our java project as a dependency. From there on, Maven knows what the dependencies are and downloads them to your local repository.<br><br>Which leaves us with one more task. We need to put all these dependencies into our lib folder after maven has downloaded them.<br><br>Below you'll find the pom.xml file that we use to achieve this with inline comments explaining each bit:<br>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;project</span> <span style="color:#a6e22e">xmlns=</span><span style="color:#e6db74">&#34;http://maven.apache.org/POM/4.0.0&#34;</span> <span style="color:#a6e22e">xmlns:xsi=</span><span style="color:#e6db74">&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">xsi:schemaLocation=</span><span style="color:#e6db74">&#34;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;modelVersion&gt;</span>4.0.0<span style="color:#f92672">&lt;/modelVersion&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;groupId&gt;</span>com.company<span style="color:#f92672">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">&lt;!-- notice how we specify the packaging to be a war,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">          that way, maven knows where to copy the jar files --&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;packaging&gt;</span>war<span style="color:#f92672">&lt;/packaging&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;version&gt;</span>1.0-SNAPSHOT<span style="color:#f92672">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;artifactId&gt;</span>railsApp<span style="color:#f92672">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;name&gt;</span>railsApp<span style="color:#f92672">&lt;/name&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;dependencies&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;dependency&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;groupId&gt;</span>com.company<span style="color:#f92672">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;artifactId&gt;</span>java-legacy-app<span style="color:#f92672">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;version&gt;</span>1.0-SNAPSHOT<span style="color:#f92672">&lt;/version&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;scope&gt;</span>compile<span style="color:#f92672">&lt;/scope&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;/dependency&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/dependencies&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;build&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;finalName&gt;</span>railsApp<span style="color:#f92672">&lt;/finalName&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;plugins&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;plugin&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;groupId&gt;</span>org.codehaus.mojo<span style="color:#f92672">&lt;/groupId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;artifactId&gt;</span>exec-maven-plugin<span style="color:#f92672">&lt;/artifactId&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;executions&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">&lt;execution&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">&lt;!-- This tasks only creates a basic structure expected by maven,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">                    so it can do its work --&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;id&gt;</span>create-mock-web-descriptor<span style="color:#f92672">&lt;/id&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;phase&gt;</span>compile<span style="color:#f92672">&lt;/phase&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;configuration&gt;</span>
</span></span><span style="display:flex;"><span>              <span style="color:#f92672">&lt;executable&gt;</span>/bin/sh<span style="color:#f92672">&lt;/executable&gt;</span>
</span></span><span style="display:flex;"><span>              <span style="color:#f92672">&lt;workingDirectory&gt;</span>.<span style="color:#f92672">&lt;/workingDirectory&gt;</span>
</span></span><span style="display:flex;"><span>              <span style="color:#f92672">&lt;arguments&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&lt;argument&gt;</span>-c<span style="color:#f92672">&lt;/argument&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&lt;argument&gt;</span>
</span></span><span style="display:flex;"><span>                    mkdir -p src/main/webapp/WEB-INF
</span></span><span style="display:flex;"><span>                    touch    src/main/webapp/WEB-INF/web.xml
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&lt;/argument&gt;</span>
</span></span><span style="display:flex;"><span>              <span style="color:#f92672">&lt;/arguments&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;/configuration&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;goals&gt;</span>
</span></span><span style="display:flex;"><span>              <span style="color:#f92672">&lt;goal&gt;</span>exec<span style="color:#f92672">&lt;/goal&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;/goals&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">&lt;/execution&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">&lt;execution&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#75715e">&lt;!-- Now in the package phase we copy the jar files
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">                    that maven put into the fake web app to our rails&#39; lib folder --&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;id&gt;</span>copy-needed-jars-into-lib<span style="color:#f92672">&lt;/id&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;phase&gt;</span>package<span style="color:#f92672">&lt;/phase&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;configuration&gt;</span>
</span></span><span style="display:flex;"><span>              <span style="color:#f92672">&lt;executable&gt;</span>/bin/sh<span style="color:#f92672">&lt;/executable&gt;</span>
</span></span><span style="display:flex;"><span>              <span style="color:#f92672">&lt;workingDirectory&gt;</span>.<span style="color:#f92672">&lt;/workingDirectory&gt;</span>
</span></span><span style="display:flex;"><span>              <span style="color:#f92672">&lt;arguments&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&lt;argument&gt;</span>-c<span style="color:#f92672">&lt;/argument&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&lt;argument&gt;</span>
</span></span><span style="display:flex;"><span>                    rm -f lib/*.jar
</span></span><span style="display:flex;"><span>                    cp target/railsApp/WEB-INF/lib/*.jar lib
</span></span><span style="display:flex;"><span>                    rm -rf target/railsApp*
</span></span><span style="display:flex;"><span>                    rm -rf src
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&lt;/argument&gt;</span>
</span></span><span style="display:flex;"><span>              <span style="color:#f92672">&lt;/arguments&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;/configuration&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;goals&gt;</span>
</span></span><span style="display:flex;"><span>              <span style="color:#f92672">&lt;goal&gt;</span>exec<span style="color:#f92672">&lt;/goal&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;/goals&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">&lt;/execution&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">&lt;execution&gt;</span>
</span></span><span style="display:flex;"><span>           <span style="color:#75715e">&lt;!-- Here we optionally create the final war file containing our rails app using warbler,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">                     doing a small cleanup of the files and folders maven created  --&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;id&gt;</span>create-final-war<span style="color:#f92672">&lt;/id&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;phase&gt;</span>package<span style="color:#f92672">&lt;/phase&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;configuration&gt;</span>
</span></span><span style="display:flex;"><span>              <span style="color:#f92672">&lt;executable&gt;</span>/bin/sh<span style="color:#f92672">&lt;/executable&gt;</span>
</span></span><span style="display:flex;"><span>              <span style="color:#f92672">&lt;workingDirectory&gt;</span>.<span style="color:#f92672">&lt;/workingDirectory&gt;</span>
</span></span><span style="display:flex;"><span>              <span style="color:#f92672">&lt;arguments&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&lt;argument&gt;</span>-c<span style="color:#f92672">&lt;/argument&gt;</span>
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&lt;argument&gt;</span>
</span></span><span style="display:flex;"><span>                   rm -rf *.war tmp/war
</span></span><span style="display:flex;"><span>                   jruby -S warble &amp;amp;&amp;amp; \
</span></span><span style="display:flex;"><span>                   mv *.war target/railsApp.war
</span></span><span style="display:flex;"><span>                <span style="color:#f92672">&lt;/argument&gt;</span>
</span></span><span style="display:flex;"><span>              <span style="color:#f92672">&lt;/arguments&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;/configuration&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;goals&gt;</span>
</span></span><span style="display:flex;"><span>              <span style="color:#f92672">&lt;goal&gt;</span>exec<span style="color:#f92672">&lt;/goal&gt;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">&lt;/goals&gt;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#f92672">&lt;/execution&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;/executions&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;/plugin&gt;</span>
</span></span><span style="display:flex;"><span>     <span style="color:#f92672">&lt;/plugins&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/build&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/project&gt;</span>
</span></span></code></pre></div><p><br><br>Now from the command line we can just run <em>mvn package</em> and we&rsquo;re good to go.<br><br>Maven will start to package the application as a war file. Since it&rsquo;s not a Java application we create the empty web.xml file in the compile phase, to fool maven. <br><br><br>After it has copied all the dependencies into WEB-INF/lib the next packaging goals will make sure we copy them to our rails&rsquo; lib folder, also creating the final war file, ready for deployment.<br><br><br>Note that once done, you can use a simple code snippet similar to this one as an initializer and load all dependencies:<br><pre lang="ruby"><br>Dir.entries(&quot;#{RAILS_ROOT}/lib&quot;).sort.each do |entry|<br>  if entry =~ /.jar$/<br>    require entry<br>  end<br>end<br></pre><br><br>Then we can just use script/console, script/server and so on, as we normally would.<br><br>Sorry for the long post, I tried to pack in as much as I could and I certainly hope it&rsquo;s useful to someone. Any doubts, comments and etc&hellip; just drop me a line. :)</p>
    </div>
    <a href="/writings/2009/07/01/jruby-on-rails-and-legacy-java-apps-managing-dependencies/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Writings</span>
    <h1 class="f3 near-black">
      <a href="/writings/2009/05/16/rails-readable-test-names-run-individual-tests-from-the-console/" class="link black dim">
        rails readable test names run individual tests from the console
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>
As you probably know, since rails 2.1 you can write test methods in the following format:<br><br><pre lang="ruby"><br>test "hotel should return its permalink" do<br>  #your test code here<br>end<br></pre><br><br>Which is great, as the test name becomes much more clear. But you can't simply run this test easily from the command line. You'd have to run something like:<br><br><pre lang="bash"><br>$ ruby your_test_file.rb -n test_hotel_should_return_its_permalink<br></pre><br><br>It annoys me. And it's not practical either to make the test fail just so you can get the test's real name.<br>I wanted to be able to just copy and paste the readable name in the console and have Test::Unit do the conversion and run it for me, like this:<br><br><pre lang="bash"><br>$ ruby your_test_file.rb -n "hotel should return its permalink"<br></pre><br><br>So I created <a href="http://github.com/leonardoborges/readable_test_names_runner/tree/master" target="_blank">readable_test_names_runner</a>. It's a tiny rails plugin that adds this feature for you.<br><br>Enjoy.
</p>
    </div>
    <a href="/writings/2009/05/16/rails-readable-test-names-run-individual-tests-from-the-console/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Writings</span>
    <h1 class="f3 near-black">
      <a href="/writings/2009/05/05/rcov-jruby-and-rcov_plugin/" class="link black dim">
        rcov jruby and rcov_plugin
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>
The <a href="http://github.com/commondream/rcov_plugin/tree/master" target="_blank">rcov_plugin</a> project is a rails plugin for <a href="http://eigenclass.org/hiki.rb?rcov" target="_blank">rcov</a> that adds some useful rake tasks to your application.  And since I'm currently working in a JRuby project it made sense to use this plugin.<br><br>The thing is, among other stuff, an rcov report from a JRuby project includes some files that shouldn't be there at all, plus you also need to change the way you call rcov as such. Thus, I thought I'd contribute these changes to the plugin and my pull request was approved this morning - just install the latest version and you should be good to go.<br><br>It was useful for us here, hope it might be useful for you too.<br><br>Enjoy :)
</p>
    </div>
    <a href="/writings/2009/05/05/rcov-jruby-and-rcov_plugin/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Writings</span>
    <h1 class="f3 near-black">
      <a href="/writings/2009/04/10/jruby-on-rails-and-google-app-engine/" class="link black dim">
        jruby on rails and google app engine
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>
As many of you know the new language supported at <a href="http://code.google.com/appengine/" target="_blank">GAE</a> now is Java, as officially announced on their <a href="http://googleappengine.blogspot.com/2009/04/seriously-this-time-new-language-on-app.html" target="_blank">blog</a>. As a Ruby/Rails developer you might not be interested on it but here is a reason you should be: <a href="http://jruby.codehaus.org/" target="_blank">JRuby</a>.<br><br>It was only a matter of time until we saw some people deploying JRuby on Rails apps on GAE, like Ola Bini's <a href="http://olabini.com/blog/2009/04/jruby-on-rails-on-google-app-engine/" target="_blank">mini blog app</a>. Guess that was the first one really, as he was beta testing the service in secret. Google App Engine imposes a few catches to any java application deployed there and any JRuby app wouldn't be different. For instance, your Java API access is limited to <a href="http://code.google.com/appengine/docs/java/jrewhitelist.html" target="_blank">these classes - called JRE Class whitelist</a>.<br><br>As you can see on his blog, you don't need active record and in fact shouldn't even be loading that on your app.<br><br>I felt compelled to try it and the timing was perfect. I am currently developing a JRuby on Rails app at the company I work for and it was a perfect fit, since we are not using ActiveRecord. The reason is that we get the data we need from other sources, such as web services and even text files.<br><br>Ola Bini's tips were crucial here. He provides a small script you can use to prepare the jars you're sending to your app. Another important piece was the <a href="http://code.google.com/appengine/downloads.html#Google_App_Engine_SDK_for_Java" target="_blank">Google App Engine SDK for Java</a>. It ships with a server that emulates GAE's behaviour locally so you're less likely to have problems once you deploy it.<br><br>I did have a problem though with the number of files uploaded to my appspot. It's currently limited to 1000 - a thousand - and a Rails app can easily exceed this limit. So before deploying, remove anything that is not crucial: activerecord - you should've done it already - , all tests directories - including the ones inside gems your app needs in order to work, fixtures and etc.<br><br>After that it was rewarding seeing a custom JRuby On Rails application working perfectly on GAE. And as much as I'd like to, I can't really share the URL since it's a private app but I encourage people to try it. I believe GAE will ultimately help the community improve JRuby even more.<br><br>And as a last tip, this time thanks to <a href="http://akitaonrails.com/" target="_blank">Fabio Akita</a>, is <a href="http://gist.github.com/91684" target="_blank">this snippet</a>. You should redirect your log so you can debug your app form GAE's dashboard.<br><br>Have fun!
</p>
    </div>
    <a href="/writings/2009/04/10/jruby-on-rails-and-google-app-engine/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Writings</span>
    <h1 class="f3 near-black">
      <a href="/writings/2008/11/20/rails-performance-scripts-profiler-benchmarker/" class="link black dim">
        rails performance scripts profiler benchmarker
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>
There are several ways you can measure your rails application's performance. The techniques range from filling your code with "puts" statements - :p - to fancy ones like <a href="http://www.newrelic.com/">NewRelic</a> - which is quite nice, I must say.<br><br>But what many people don't know is that rails ships with a handful of scripts to help you out. One of which is called <strong>profiler</strong>, located under your application's <strong>scripts/performance</strong> directory.<br><br>By default it uses the standard ruby profiler but if you want more speed - and additional reporting options - , consider installing the <a href="http://ruby-prof.rubyforge.org/">ruby-prof</a> gem.<br><br>So if you execute it without params, you'll get a clue of how it works:<br><br><pre lang="bash"><br>$ script/performance/profiler<br>Usage: ./script/performance/profiler 'Person.expensive_method(10)' [times] [flat|graph|graph_html]<br></pre><br><br>Pretty self explanatory, right?<br><br>As a sample code, I have in my rails app a dumb model with a really dumb method I wanna profile:<br><br>
<div class="code">
  <pre><code class="language-ruby">
  class Article
    def self.find_all_with_delay
      sleep 10
      self.find(:all)
    end
  end
  </code></pre>
</div>
<br><br>Clearly this method doesn't perform well and is a bottle neck in our super application! But let's see what rails' profiler tells us:<br><br><pre lang="bash" line="1"><br>$ script/performance/profiler 'Article.find_all_with_delay' 1 graph > text_graph.perf<br>Loading Rails...<br>Using the ruby-prof extension.<br>Thread ID: 109440<br>Total Time: 10.147995<br><br>  %total   %self     total      self      wait     child            calls   Name<br>--------------------------------------------------------------------------------<br> 100.00%   0.00%     10.15      0.00      0.00     10.15                1     Global#[No method] (/Users/leo/projects/test/vendor/rails/railties/lib/commands/performance/profiler.rb:24}  /Users/leo/projects/test/vendor/rails/railties/lib/commands/performance/profiler.rb:24<br>                     10.15      0.00      0.00     10.15              1/1     Object#profile_me<br>--------------------------------------------------------------------------------<br>                     10.15      0.00      0.00     10.15              1/1     Global#[No method]<br> 100.00%   0.00%     10.15      0.00      0.00     10.15                1     Object#profile_me ((eval):1}  (eval):1<br>                      0.00      0.00      0.00      0.00              1/1     Class#const_missing<br>                     10.15      0.00      0.00     10.15              1/1     <Class::Article(id: integer, name: string, content: string, created_at: datetime, </p>
    </div>
    <a href="/writings/2008/11/20/rails-performance-scripts-profiler-benchmarker/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Writings</span>
    <h1 class="f3 near-black">
      <a href="/writings/2008/10/08/dont-use-rexml-i-mean-it/" class="link black dim">
        dont use rexml i mean it
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>
<a href="http://www.germane-software.com/software/rexml/">REXML</a> is the standard XML processing library for Ruby. It's on Ruby's core and is terribly <strong>slow</strong>.<br><br>Yeah, I know it's pretty simple to use, got a nice interface and, again, it's just there. And it is a good library, for most things. But if you, as me, came to a point that processing XML is taking 50% of the time to render a rails action, it's time to change.<br><br>My tip? Use <a href="http://libxml.rubyforge.org/">libxml</a> instead. The numbers on their home page speak for themselves. Try it yourself, you won't be disappointed. And I'm really happy with the performance increase on our app.
</p>
    </div>
    <a href="/writings/2008/10/08/dont-use-rexml-i-mean-it/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Writings</span>
    <h1 class="f3 near-black">
      <a href="/writings/2008/09/09/railsconf-europe-2008-impressions-and-highlights/" class="link black dim">
        railsconf europe 2008 impressions and highlights
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>
I'm back in Madrid again after the RailsConf and I think it's time to say something about it. :)<br><br>First off, the infrastructure provided by the conference was really great. The rooms, WiFi connection, food...Â  Really well organized.<br><br>Now to the sessions, highlights:<br><br><strong>Tutorials (Tuesday)</strong><br>- <a href="http://nealford.com/downloads/Ford-Farley_Meta_programming_ruby-tutorial.pdf">Meta-programming Ruby for fun and profit</a> (Neal Ford, Patrick Farley)<br>The old and good techniques that made Ruby so powerful. Here Neal and Patrick walked us through the main tricks to meta programming like open classes - and conditionally open them - , dynamically define methods, sending messages to objects and how Ruby can help test your Java code in a much easier way.<br><br>I've put the link to the slides but honestly I don't think they're too much useful without the talking.<br><br><strong>Sessions (Wednessday)</strong><br>- EC2, MapReduce and Distributed processing (<a href="http://railspikes.com">Jonathan Dahl</a>)<br>Jonathan explained the theory behind <a href="http://en.wikipedia.org/wiki/Mapreduce">MapReduce</a> using very simple ruby examples, providing the basics on how to distribute and paralelize tasks accross multiple machines.<br><br>He also introduced <a href="http://hadoop.apache.org/core/">Hadoop</a>, a platform built in Java that "lets one easily write and run     applications that process vast amounts of data". What I liked the most was the simplicity he explained this subject. As of today, his presentation is not available online. Stay tuned as I'm gonna update this post with the links, as soon as they're available.<br><br><strong>Sessions (Thursday)</strong><br>- <a href="http://nealford.com/downloads/conferences/canonical/Neal_Ford-Debugging_and_Testing_the_Web_Tier.zip">Debugging &amp; Testing the Web Tier</a> (<a href="http://nealford.com">Neal Ford</a>)<br>If you've been concerned about testing your app's web tier lately, this presentation would probably not show you anything new. Neal talks about the need to debug and test javascript behaviour accross multiple browsers, using tools like <a href="http://getfirebug.com/">Firebug</a>, <a href="http://www.jsunit.net/">JSUnit</a> and <a href="http://selenium.openqa.org/">Selenium</a>. If you have no idea about what these tools are, please stop now and go evaluate them!<br><br>We are pretty concerned about testing on my actual job, but selenium tests can be a pain sometimes - a.k.a extremely slow. And what ends up happening is that they are forgotten. Developers only run the test suite if it's not painful and it's lightning fast. Here's is where the highlight for this session comes: <a href="http://www.thefrontside.net/crosscheck">CrossCheck</a>.<br><br>The idea is to be able to test your javascript code accross multiple browsers without the need to launch them. In fact, you don't even need a browser installed. The negative point is that it's kinda fallen behind because now you can only test older versions of browsers. But since the project is getting a lot of traction, I'm pretty sure this will be solved soon.<br><br><strong>Conclusion</strong><br><br>My overall impression of the other sessions I attended is that some speakers just didn't have time to properly prepare themselves, what made me think this years's RailsConf wasn't all that I expected.<br><br>But I also met interesting people and after all one of the key points in a conference is networking. :)<br><br>Definitely worth it though. And that's why I took the time to provide this highlights.<br><br>c u soon
</p>
    </div>
    <a href="/writings/2008/09/09/railsconf-europe-2008-impressions-and-highlights/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Writings</span>
    <h1 class="f3 near-black">
      <a href="/writings/2008/08/30/railsconf-europe-2008-heading-to-berlin/" class="link black dim">
        railsconf europe 2008 heading to berlin
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>
The title says it already.<br><br>On monday I'll be going to Berlin to attend this yearÂ´s <a href="http://en.oreilly.com/railseurope2008/public/content/home">RailsConf</a>.<br><br>This will be my first one and of course my expectations are pretty high!<br><br>As usual, after the conference I'll try and give a summary of what happened there, providing as much content as I can.<br><br>Anyone else's going??? :)<br><br>C u there!
</p>
    </div>
    <a href="/writings/2008/08/30/railsconf-europe-2008-heading-to-berlin/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Writings</span>
    <h1 class="f3 near-black">
      <a href="/writings/2008/08/28/mac-os-x-getting-mysql-and-rails-to-work/" class="link black dim">
        mac os x getting mysql and rails to work
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>
So I couldn't resist and bought myself a MacBook Pro! It's my first week with my new toy and I'm really enjoying it.<br><br>But I need to do something useful with it so I started to prepare it to be my new development platform, starting with Ruby/Rails + MySQL: Here is where the fun begins!<br><br>After I installed both Rails and MySQL, I fired up a terminal an typed:<br><pre lang="bash">sudo gem install mysql</pre><br>...and here is what u get<br><pre lang="bash">ERROR: Failed to build gem native extension.</pre><br>If you google this error you will find a couple solutions and this is the one that worked for me:<br><pre lang="bash">ARCHFLAGS="-Os -arch x86_64 -fno-common"<br>sudo gem install mysql -- --with-mysql-dir=/usr/local/mysql<br>--with-mysql-config=/usr/local/mysql/bin/mysql_config</pre><br>Now, confident enough, I created a sample rails app and tried to create the development database:<br><pre lang="bash">leo$ rake db:create (in /Users/leo/projects/test)<br>dyld: lazy symbol binding failed: Symbol not found: _mysql_init</pre><br>Doesn't look happy yet huh? This took me a while to figure out but it turned out to be fairly simple.<br>I have no idea why but after I installed the gem I had the file mysql.bundle in two different places:<br><pre lang="bash">/Library/Ruby/Gems/1.8/gems/mysql-2.7/lib/mysql.bundle<br>/Library/Ruby/Gems/1.8/gems/mysql-2.7/mysql.bundle</pre><br>The solution was to remove the first copy of the file. Now everything is working fine at this end!<br>I really hope this is useful to someone!
</p>
    </div>
    <a href="/writings/2008/08/28/mac-os-x-getting-mysql-and-rails-to-work/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Writings</span>
    <h1 class="f3 near-black">
      <a href="/writings/2008/08/24/rails-vulnerability-on-rexml/" class="link black dim">
        rails vulnerability on rexml
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>
REXML, the XML library uses by many ruby apps, including rails, has a vulnerability that requires an immediate patch on whatever rails version you're using.<br><br>Details and instructions on the official rails weblog, <a href="http://weblog.rubyonrails.org/2008/8/23/dos-vulnerabilities-in-rexml">here</a>.<br><br>But basically, this is what you need to do:<br><br><pre lang="bash"><br>gem install rexml-expansion-fix<br></pre><br><br>Then, require rexml-expansion-fix in your rails's app environment.rb file.
</p>
    </div>
    <a href="/writings/2008/08/24/rails-vulnerability-on-rexml/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Writings</span>
    <h1 class="f3 near-black">
      <a href="/writings/2008/08/04/the-biggest-rails-event-in-latin-america/" class="link black dim">
        the biggest rails event in latin america
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>
Behold latin american railers!<br><br>This year we will have the <a href="http://www.locaweb.com.br/railssummit/">Rails Summit Latin America</a> on October, 15th and 16th, in SÃ£o Paulo, Brazil.<br><br>It's by far the biggest Rails event we've ever had, including many of the speakers that were present at <a href="http://en.oreilly.com/rails2008/public/content/home">RailsConf</a>.<br><br><a href="http://akitaonrails.com/">FÃ¡bio Akita</a> is also one of the speakers and provides more details on his <a href="http://akitaonrails.com/2008/8/1/largada-para-o-maior-evento-de-rails-da-am-rica-latina">blog</a>.<br><br>If you're a assumed rails geek don't miss the opportunity to hear from the big names and to know a beautiful country like Brazil.<br><br>Oh, btw, if you're brazilian, like me, you have no excuse to miss this party!<br><br>Enjoy!!!<br><br><p><br><a href="http://www.locaweb.com.br/railssummit"><br><img src="http://www.akitaonrails.com/assets/2008/8/1/468x60.gif" alt="Rails Summit Latin America" title="Rails Summit Latin America" border="0" width="468" height="60"/></a>
</p>
    </div>
    <a href="/writings/2008/08/04/the-biggest-rails-event-in-latin-america/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Writings</span>
    <h1 class="f3 near-black">
      <a href="/writings/2008/06/07/passenger-mod_rails-and-problems-with-custom-apache-installation/" class="link black dim">
        passenger mod_rails and problems with custom apache installation
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>
This week we started to test <a href="http://www.modrails.com/">mod_rails</a> in a couple of projects where I work on. One in production.<br><br>Of course it's too early for any conclusions, but I just wanted to share a couple of problems you might find when the installer tries to compile the Apache module.<br><br>In our case, and I believe it is the case of many servers out there, we have a custom Apache installation, what makes the installer not find it and/or not find the Apache Portable Runtime (APR) sometimes.<br><br>The first one is easy and is documented <a href="http://www.modrails.com/documentation/Users%20guide.html#specifying_correct_apache_in">here</a>. You just seed to export the following environment variable, pointing to your apache installation:<br><pre><tt><tt>export APXS2=/opt/apache2/bin/apxs<br></tt></tt></pre><br>The second one is a bit tricky but it happened only when I tried to install passenger in another server that had CentOS. In this case, you will also need the following environment variable, pointing to your Apache APR config:<br><pre>export APR_CONFIG=/usr/local/apache2/bin/<span class="nfakPe">apr</span>-1-config</pre><br>It took me a fair amount of time googling around to find this answer, so I hope it'll be useful for someone. :)
</p>
    </div>
    <a href="/writings/2008/06/07/passenger-mod_rails-and-problems-with-custom-apache-installation/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Writings</span>
    <h1 class="f3 near-black">
      <a href="/writings/2008/05/14/euruko-2008-materials-available/" class="link black dim">
        euruko 2008 materials available
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>
As some of you know <a href="http://leonardoborges.com/writings/2008/03/25/euruko-2008-european-rubyconf-prague/">I went</a> to the <a href="http://www.euruko2008.org">European Ruby Conf in Prague</a>, this year.<br><br>The event was awesome and it's good to know they finally made available the majority of the slides, <a href="http://www.euruko2008.org/pages/2-program">here</a>.<br><br>They also published <a href="http://www.avc-cvut.cz/avc.php?id=6830&amp;language=en_US">Matz's keynote</a>, and more videos from the conference are being edited right now, so stay tuned to their home page!<br><br>Enjoy!
</p>
    </div>
    <a href="/writings/2008/05/14/euruko-2008-materials-available/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Writings</span>
    <h1 class="f3 near-black">
      <a href="/writings/2008/05/10/a-couple-of-things-from-here/" class="link black dim">
        a couple of things from here
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>
It's been some time since my last post but here I am! Where? In Spain, of course! Having a great time, I must say.<br><br>I arrived last week in Madrid and the past 2 weeks before that I spent basically packing my stuff. There is still some paperwork going on but everything is flowing well.<br><br>Besides this little feedback, I was reading this week's issue of the excellent series <a href="http://antoniocangiano.com/2008/05/05/this-week-in-ruby-may-5-2008/">This Week In Ruby</a>, from my friend <a href="http://antoniocangiano.com/">Antonio Cangiano</a>. I found something quite interesting, a plugin called <a href="http://hobocentral.net/hobofields/">HoboFields</a>.<br><br>One of the things that bothers me in rails is the fact that by looking at your model classes, you can't tell the fields you have there. Sure, you can look at the migration script. Yeah, you can also load the development environment and inspect the object. It's a pain in the @zz! But this is the way ActiveRecord works...<br><br>Other ORM solutions like <a href="http://datamapper.org/">DataMapper</a>, allows you to define the fields directly in the class. It's a much cleaner and clear way to maintain your models. And you get to know what properties you have just by looking at your classes.<br><br>That's exactly what HoboFields adds to ActiveRecord.<br><br>You define your properties and its types straight into your model class, and the plugin creates the migration scripts for you. Coming from a java world my self, I find it rather interesting, useful and it also reminds me of the way <a href="http://hibernate.org">Hibernate</a> works. You define your mappings with anotations in your class and hibernate just generate the schemas from there.<br><br>It's worth a try.
</p>
    </div>
    <a href="/writings/2008/05/10/a-couple-of-things-from-here/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Writings</span>
    <h1 class="f3 near-black">
      <a href="/writings/2008/04/14/passengermod_rails-released/" class="link black dim">
        passengermod_rails released
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>
<a href="http://www.modrails.com/">Passenger(mod_rails)</a> has been released.<br><br>The idea is to ease the pain on rails applications deployment. I tested myself and in less than five minutes I had my application working behind Apache!<br><br>I'm not going to say much here besides the fact that it seems like a really good option for rails deployment and <a href="http://www.modrails.com/testimonials.html">people</a> have been talking about it already, including <a href="http://www.loudthinking.com/">DHH</a>.<br><br>But I do recommend a read on the <a href="http://www.modrails.com/documentation/Architectural%20overview.html">architecture overview</a> document. Be sure to read it all, specially the part on <a href="http://www.modrails.com/documentation/Architectural%20overview.html#concurrent_requests">handling concurrent requests</a>.<br><br>To install, "it doesn't get easier than" <a href="http://www.modrails.com/install.html">that</a>.<br><br>Good job guys.
</p>
    </div>
    <a href="/writings/2008/04/14/passengermod_rails-released/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Writings</span>
    <h1 class="f3 near-black">
      <a href="/writings/2008/04/07/jruby-db2-xquery-bug/" class="link black dim">
        jruby db2 xquery bug
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>
<strong>Update</strong>: Follow up link to this issue on JRuby's Jira, <a href="http://jira.codehaus.org/browse/JRUBY-2430">here</a><br><br>As I told in my last <a href="http://leonardoborges.com/writings/2008/04/04/qcon-2008-slides-available/">post</a>, it was time to give JRuby a serious try. So I took one of our rails projects at work and decided to migrate it to JRuby and see what happens.<br><br>We heavily use the XML capabilities of DB2 and this was a huge problem. Every query would work just fine through the activerecord-jdbc-adapter - part of the <a href="http://rubyforge.org/projects/jruby-extras">JRuby Extras</a> . But every <strong>X</strong>query would gracefully <strong>fail</strong>!<br><br>After some debugging I got stuck and decided to get JRuby and activerecord-jdbc-adapter's source to see what was happening.<br><br>As I could see, it has a bug -in my opinion - at the java part of the code. The jdbc-adapter is a bridge to allow Active Record to talk with databases through native JDBC drivers, so it's normal that we do have a java part here. At this point, what the code does is to inspect the sql statement sent from ruby and decide if it's a select, update or insert.<br><br>I fixed the problem and submitted a <a href="http://rubyforge.org/tracker/index.php?func=detail&amp;aid=19340&amp;group_id=2014&amp;atid=7859">patch</a> to rubyforge. I'm not sure if it's the best solution or not, but now I got the xQueries working just fine.<br><br>I'd love to hear from people with similar environments whether this patch works for you or not. I'm sure I didn't try every possibility.<br><br>If you wanna try it, just drop me a message (e-mail in the <a href="http://leonardoborges.com/writings/about/">About</a> page) and I can send the pre-compiled jar file - for activerecord-jdbc-0.8<br><br>You can also just check out the code and compile yourself. ;)
</p>
    </div>
    <a href="/writings/2008/04/07/jruby-db2-xquery-bug/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Writings</span>
    <h1 class="f3 near-black">
      <a href="/writings/2008/04/04/qcon-2008-slides-available/" class="link black dim">
        qcon 2008 slides available
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>
Most of last QCon's presentations are available for download <a href="http://jaoo.dk/london-2008/schedule">here</a>.<br><br>Highlights to Ola Bini's on <a href="http://jaoo.dk/london-2008/file?path=/qcon-london-2008/slides/OlaBini_JRuby_Power_on_the_JVM.pdf">JRuby(pdf)</a> and Randy Shoup's on  <a href="http://jaoo.dk/london-2008/file?path=/qcon-london-2008/slides/RandyShoup_eBaysArchitecturalPrinciples.pdf">eBay's architectural principles(pdf)</a>.<br><br>And while we're talking about JRuby, it's impressive how it's becoming a recurrent and big subject. Fast. It had its own small space at big event like QCon and in the last Euruko in Prague, we had a presentation by the JRuby Core Developers <a href="http://headius.blogspot.com/">Charles Nutter</a> and <a href="http://www.bloglines.com/blog/ThomasEEnebo">Thomas Enebo</a>.<br><br>Big companies are sponsoring JRuby's development indirectly or directly, like <a href="http://www.sun.com">Sun</a>. And other big companies are endorsing its production ready state, like <a href="http://www.oracle.com">Oracle</a>, which has a publicly available website developed with JRuby On Rails.<br><br>It's past the time to give it a serious try...
</p>
    </div>
    <a href="/writings/2008/04/04/qcon-2008-slides-available/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Writings</span>
    <h1 class="f3 near-black">
      <a href="/writings/2008/03/25/euruko-2008-european-rubyconf-prague/" class="link black dim">
        euruko 2008 european rubyconf prague
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>
On friday I'll be heading Prague for the <a href="http://www.euruko2008.org/">European RubyConf</a>.<br><br>Anyone is going? :)<br><br>Almost 300 attendees already registered for the event. And a few very interesting people will be speaking there like <a href="http://en.wikipedia.org/wiki/Yukihiro_Matsumoto">Matz</a> and <a href="http://www.loudthinking.com/">DHH</a> (this one, through skype).<br><br>Besides that, the organization staff is scheduling 2 parties, friday and saturday, for the attendees.<br><br>Networking comes to mind, doesn't it? I think it will be a great opportunity to meet interesting and bright people.<br><br>So, see u in Prague!
</p>
    </div>
    <a href="/writings/2008/03/25/euruko-2008-european-rubyconf-prague/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Writings</span>
    <h1 class="f3 near-black">
      <a href="/writings/2008/02/18/openid/" class="link black dim">
        openid
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>
I think I've been really lucky lately. In my new job I'm getting to work with many interesting things and <a href="http://openid.net/">OpenID</a> is just one of them.<br><br>We are investing high in Ruby on Rails and we have now a few internal applications in development stages. Our manager wanted the ability to let people log in to our rails applications(for now) using their OpenID accounts.<br><br>It was a funny task, as I knew very little about OpenID. The idea actually is really good. Instead of creating a new user account on each new service/site you'd like to subscribe to, you create a single user account in a OpenID provider - like <a href="https://www.myopenid.com/">MyOpenID</a> - and use this identity to authenticate yourself in the services/sites that support this protocol.<br><br>What do we earn from that? Well, in my opinion, we can get a couple of benefits:<br><br>- You don't need to memorize 723 logins and 723 passwords (if you really care about creating different passwords for all of your user accounts)<br><br>- You don't authenticate yourself to the service you're attempting to use. This service actually asks to your provider if your identity is valid, and you authenticate yourself there. Nowhere else.<br><br>I strongly recommend you visit the <a href="http://openid.net/">OpenID</a> to understand more about it.<br><br>But, back to the problem, we needed to put it working in a rails app. And that's when I found the <a href="http://openidenabled.com/ruby-openid/">ruby-openid</a> library, provided by <a href="http://openidenabled.com/">OpenID Enabled</a>.<br><br>It is a complete library, really well documented that provides an abstraction layer both for consumer and server applications.<br><br>My first step was to develop the consumer. That's what you need if you are going to provide your users with OpenID authentication in your web site. The ruby-openid library comes with several samples that really helped me out here. They were developed using <a href="http://rubyonrails.org/">Ruby On Rails</a> and are a really good start point.<br><br>After this step, I was asked to evaluate the possibility of being a OpenID provider. At first I thought it would be a really complicated task, but again this ruby library had a great example of a simple provider. The drawback is that the samples were developed in an older version of Rails ( &lt; 2.x ) . So I had to freeze the Rails version to 1.2.5 so I could run the provider sample code.<br><br>I am now working on porting this code to Rails 2.x, into one of our applications and it's been flowing well so far. Just wanted to share this library for those of you trying something similar. It is really worth a look.
</p>
    </div>
    <a href="/writings/2008/02/18/openid/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Writings</span>
    <h1 class="f3 near-black">
      <a href="/writings/2008/01/02/rails-20-xml-data-type-and-db2/" class="link black dim">
        rails 20 xml data type and db2
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>
<strong>[2008/04/30] Update:</strong> The ibm_db gem has been updated to support the new Rails 2.0 style migration. Now you can just use t.xml and it will work. Look <a href="http://rubyforge.org/forum/forum.php?forum_id=24055">here</a> for more info. Thanks to Mario Briggs for pointing me to the update.<br><br>---<br><br>In my new job we work with XML data natively stored on DB2. I have done some test with Rails and DB2 a few weeks ago and it's pretty interesting, specially the easiness that Rails deals with XML.<br><br>We decided to test some new features of DB2 9.5 and I decided to test them with Rails 2.0.<br><br>So I created a new Rails app, configured the database.yml to use the <a href="http://db2onrails.com/2007/10/17/ibm_db-gem-updated-to-090/">idm_db</a> gem and fired:<br><br><code>$ rake db:create</code><br><br>The output is nice but, the database isn't there! I suppose it's something with the gem that needs to be updated. But really don't know about it. It just doesn't work. But this will not hold us down. I will just create the database by hand and keep going with my tests.<br><br>After that, I created a new model <em>XmlDocument,</em> which has a column named <em>data</em>, of type XML. According to the new migrations syntax, my model's migration would look something similar with this:<br><br><code>class CreateXmlDocuments &lt; ActiveRecord::Migration<br>def self.up<br>create_table :xml_documents do |t|<br>t.xml :data<br>t.timestamps<br>end<br>end</code><br><br>def self.down<br>drop_table :xml_documents<br>end<br>end<br><br>Right? Ok, I fired up a terminal and lauched:<br><br><code>$ rake db:migrate</code><br><br>The output? Here it is:<br><br><code>== 3 CreateXmlDocuments: migrating ============================================<br>-- create_table(:xml_documents)<br>rake aborted!<br>undefined method `xml' for #<br></code><br><br>Yes, a big nice exception! The new migration syntax doesn't allow you to do <em>t.xml</em>! But please don't ask me why! :p<br>The solution? Well, although it's weird - imo - , it's also easy. You can mix the new and the old syntax in the same file. So our model's  migration  will now look like this:<br><br><code>class CreateXmlDocuments &lt; ActiveRecord::Migration<br>def self.up<br>create_table :xml_documents do |t|<br>t.column  :data, :xml<br>t.timestamps<br>end<br>end</code><br><br>def self.down<br>drop_table :xml_documents<br>end<br>end<br><br>And that's it! We're ready to go! I didn't find anything else different so far, besides what I described here. Hope this helps!
</p>
    </div>
    <a href="/writings/2008/01/02/rails-20-xml-data-type-and-db2/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Writings</span>
    <h1 class="f3 near-black">
      <a href="/writings/2007/12/21/rails-20-scaffold/" class="link black dim">
        rails 20 scaffold
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>
Following the Rails 2.0 hype, I've been playing around with it and decided to share a first impression: Scaffolding is gone!<br><br>But wait, before you knock your head against the wall, let me tell you something: I lied :)<br><br>Scaffolding is not really gone. It's just changed a bit.<br><br>How can I tell? Well, as a good developer I thought: "I'll just create a scaffold with the new version and see what's different"<br><br>I fired up a terminal, created a news rails application and generated a new model:<br><br><strong><code>$ script/generate model Contact name:string email:string</code></strong> - yes you can do this in rails 2.0, and these fields get into your model's migration!<br><br>Now the I have a new model, it's time for a controller to manage it:<br><br><strong><code>$ script/generate controller Contacts</code></strong><br><br>So your controller would look something like this huh?<br><br><strong><code>class ContactsController &lt; ApplicationController<br>scaffold :contact<br>end</code></strong><br><br>Well, too bad! The method scaffold is gone from ActionController::Base! And I'm not lying this time!<br><br>Now that the dynamic scaffold is gone, we're left with the static one.<br>Ok, let's try it then:<br><br><strong><code>$ script/generate scaffold contact</code></strong><br><br>And it won't work again! ;) At the end of the output, you will get something like this:<br><br><code>Another migration is already named create_contacts: db/migrate/001_create_contacts.rb</code><br><br>It really means that if your model is meant to be used by a scaffold, you better generate it in the same line. It will fail, afaik, if the model previously existed. Destroy yout model and controller, and execute the following:<br><br><strong><code>$ script/generate scaffold Contact name:string email:string</code></strong><br><br>Done! Just run your migrations, startup your server and your new scaffold in rails 2.0 will be working gracefully!<br><br>It took me a while to discover this changes because I didn't find it well documented. But maybe I was not looking in the right places. :)
</p>
    </div>
    <a href="/writings/2007/12/21/rails-20-scaffold/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
        <div class="relative w-100  mb4 bg-white">
          <div class="relative w-100 mb4 bg-white nested-copy-line-height">
  <div class="bg-white mb3 pa4 gray overflow-hidden">
    <span class="f6 db">Writings</span>
    <h1 class="f3 near-black">
      <a href="/writings/2007/12/01/rubyworks-production-stack-for-rails/" class="link black dim">
        rubyworks production stack for rails
      </a>
    </h1>
    <div class="nested-links f5 lh-copy nested-copy-line-height">
      <p>
Well, we all know how hard, or at least cumbersome, it can be to set up a production environment to deploy your applications. Besides all the hardware stuff like storages, links, routers you are still left with a huge amount of software configuration to handle. This often includes configuring things like clusters, load balancing and services monitoring - Including notification of interested parts in case of any failure. Pieces of software you have to tie up and make them work together.<br><br>But hey, ruby lovers, you may have a better way to get this going! Released by <a href="http://www.thoughtworks.com/" title="TW's web site">ThoughtWorks</a>, <a href="http://studios.thoughtworks.com/rubyworks" title="RubyWorks">RubyWorks</a> is, as quoted from their website, a production application stack for <a href="http://www.rubyonrails.org/" title="Ruby On Rails">Ruby On Rails</a> applications. I decided to give it a try and I really enjoyed it.<br><br>First of all I didn't want to mess with my actual configuration so I installed a new vm with <a href="http://www.virtualbox.org/" title="Virtual Box">Virtual Box</a>. It has Ubuntu 7.10 on it, with 256MB of memory.<br><br>After installing RubyWorks - instructions on their website -, you get a new skeleton rails app up and running, being served by 4 <a href="http://mongrel.rubyforge.org/" title="Mongrel">mongrels</a> that defaults to production environment! Impressed? There is more. A <a href="http://haproxy.1wt.eu/" title="HAProxy">HAProxy</a> is also set up in front of your mongrel servers acting as a load balancer.<br><br>Well, you probably want to monitor all that stuff huh? A <a href="http://www.tildeslash.com/monit/" title="Monit">monit</a> web interface is waiting for your call on port 2812! It monitors all your mongrel servers - four by default - and your HAProxy, allowing you to measure CPU and Memory usage, among other things.<br><br>The coolest thing here is that all these softwares you would have to setup by hand are already working together, ready for production! Well, is it?<br><br>Going a little deeper, I deployed a database backed application to test this stack's performance.<br><br>I used <a href="http://www.joedog.org/JoeDog/Siege" title="Siege">Siege</a> to stress the app and I am very happy with the results! I compared it with a single mongrel running on production env and no proxy at all.<br><br>It is worth mentioning that having 4 mongrels running took my vm to 77% of memory usage, while a single mongrel took it to 38%.<br><br>
    </div>
    <a href="/writings/2007/12/01/rubyworks-production-stack-for-rails/" class="ba b--moon-gray bg-light-gray br2 color-inherit dib f7 hover-bg-moon-gray link mt2 ph2 pv1">read more</a>
  </div>
</div>

        </div>
      
    </section>
  </div>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="http://leonardoborges.com/" >
    &copy;  Leonardo Borges 2025 
  </a>
    <div><div class="ananke-socials"><a href="https://github.com/theleoborges/" target="_blank" rel="noopener"
        class="ananke-social-link link-transition github link dib z-999 pt3 pt0-l mr1"
        title="follow on GitHub - Opens in a new window"
        aria-label="follow on GitHub - Opens in a new window">
      <span class="icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc. --><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
            
          </span></a><a href="https://twitter.com/theleoborges" target="_blank" rel="noopener"
        class="ananke-social-link link-transition twitter link dib z-999 pt3 pt0-l mr1"
        title="follow on Twitter - Opens in a new window"
        aria-label="follow on Twitter - Opens in a new window">
      <span class="icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc. --><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
            
          </span></a><a href="http://linkedin.com/in/theleoborges" target="_blank" rel="noopener"
        class="ananke-social-link link-transition linkedin link dib z-999 pt3 pt0-l mr1"
        title="follow on LinkedIn - Opens in a new window"
        aria-label="follow on LinkedIn - Opens in a new window">
      <span class="icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc. --><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg>
            
          </span></a></div>
</div>
  </div>
</footer>

  </body>
</html>
